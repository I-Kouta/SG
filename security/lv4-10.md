### 予想問題10

---
2.OAuth2.0において、WebサービスAの利用者Cが、WebサービスBにリソースDを所有している。利用者Cの承認の下、WebサービスAが、リソースDへの限定的なアクセス権限を取得するときのプロトコルOAuth2.0の動作

- **WebサービスBが、アクセストークンを発行する**  
異なるドメインやプラットフォーム間で、サードパーティアプリケーションによるHTTPサービスへの限定的なアクセスを可能にするオープンな認可フレームワーム。Webサイトにおいて、SNSアカウントでログインする方法で用いられる。  
ユーザ本人の認可の下、サードパーティアプリケーションに対してWebサービス側からアクセストークン(委任状のようなもの)が発行され、サードパーティアプリケーションがユーザに代わりそれを使用して、Webサービス(API)にアクセスできるようにする仕組み。3種類のロールがある  
*Resource owner* : リソースサーバ内の保護されたじょうお方へのアクセスを許可するエンドユーザで、クライアントの利用者。利用者Cが該当する  
*resource server* : 保護された情報を保持し、Webサービスを提供するアプリケーションのこと。リソースオーナを認証し、クライアントにアクセストークンを発行する認可サーバ(*authorization server*)の役割を兼ねることが多い。WebサービスBが該当する  
*client* : リソースオーナの認可を得てリソースサーバにアクセスするサードパーティアプリケーションのこと。WebサービスAが該当する<br><br>
1.利用者Cが、WebサービスAにアクセスする  
2.WebサービスAは、利用者CをWebサービスBにリダイレクトし、認証・認可手続きを促す  
3.**WebサービスBは、利用者Cの認証に成功すると、WebサービスAに対してアクセストークンを発行する**  
4.WebサービスAは、アクセストークンなどを含めたHTPリクエストをWebサービスBに送信する  
5.WebサービスBは、HTTPリクエストが正当なものであるか検証し、妥当であればリソースDを含むHTTPレスポンスをWebサービスAに返す
